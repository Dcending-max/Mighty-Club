
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mighty Chat</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="hero">
        <h2>Mighty Club Chat</h2>
        <div id="messages" style="max-height: 300px; overflow-y: auto;"></div>
        <input type="text" id="msg" placeholder="Type a message">
        <button onclick="send()">Send</button>
    </div>
    <script>
        const messagesDiv = document.getElementById('messages');
        function renderMessages() {
            messagesDiv.innerHTML = '';
            const msgs = JSON.parse(localStorage.getItem('chat') || '[]');
            msgs.forEach(m => {
                const div = document.createElement('div');
                div.textContent = `${m.user}: ${m.text}`;
                messagesDiv.appendChild(div);
            });
        }
        function send() {
            const input = document.getElementById('msg');
            const user = JSON.parse(localStorage.getItem('user')) || { username: 'Guest' };
            const msgs = JSON.parse(localStorage.getItem('chat') || '[]');
            msgs.push({ user: user.username, text: input.value });
            localStorage.setItem('chat', JSON.stringify(msgs));
            input.value = '';
            renderMessages();
        }
        renderMessages();
    </script>
</body>
</html>
